Heading:qjk40(635)\gLookupFile Protocoly756qk40\gPage Numbers: Yes  X: 527  Y: 10.5"qjk40\gInter-Office Memorandumz18592l4445y762\f5bgTo	Communication Protocols	Date	September 10, 1982z18592l4445d2998e21(0,65535)(1,4445)(5,11684)(6,13300)\f1g2f0t2 1t0 23t6 1f1t0 4f0t7 1t0From	Ed Taft	Location	PARC/CSLz18592l4445d2998e25\f1g4f0t2 1t0 7t6 1f1t0 8f0t7 1t0Subject	LookupFile Protocol	File	[Maxc]<Pup>LookupFile.bravoz21167l4445d2998e25\f1g7f0t2 1t0 19t6 1f1t0 4t7 1t0 27f0XEROX       z18592l508e14(2116)\f2g5f0Attributes:	informal, technical, communication, filingz18697l4896d2999e10(0,4904)(1,65535)(5,65535)(6,65535)\f1gAbstract:	The existence of a file, along with its create date and length hint, may be determined by a single exchange of packets with a LookupFile server.z18697l4896d2999e10j\f1gz18697e10j(1270)\gThe existence of a file, along with its create date and length hint, may be determined by a single exchange of packets with the LookupFile server.  This is intended to provide a means of file validation much cheaper than either FTP or Leaf.  Its principal intended application is the CIFS file cache manager in Cedar.z18697e10jk40\gThe server resides on socket 61B of any file server that offers this service.  The client initiates the exchange with:z18697e10jk40\g31f1 1f0LookupFileRequest:z18697l4269e10jk60\gPup type: 200Bz18697l5408d4833e4j\ig9I4f1 1f0Pup ID: chosen by clientz18697l5408d4833e4j\ig7IPup contents: a text string identifying the filez18697l5408d4833e4j\ig13IIf the server is not offering this service, it responds with an Error Pup with sub-type 2, no such port''.  Otherwise, it responds with one of:z18697e10jk40\gLookupFileReply:z18697l4269e10jk60\gPup type: 201Bz18697l5408d4833e4j\ig9I4f1 1f0Pup ID: same as LookupFileRequest Pupz18697l5408d4833e4j\ig7IPup contents: 3 words, as follows:z18697l5408d4833e4j\ig13Ifile version number (1 word)z18697l5397e4j\gfile create date, in standard Alto packed format (2 words, high-order word firstnote that this is the reverse of the word order for a Mesa LONG CARDINAL)z18697l5397e4j\g140f1 13f0file length in 8-bit bytes (2 words, high-order word first)note that this is only a hint, and doesn't include the leader page.z18697l5397e4j\gLookupFileError:z18697l4269e10jk60\gPup type: 202Bz18697l5408d4833e4j\ig9I4f1 1f0Pup ID: same as LookupFileRequest Pupz18697l5408d4833e4j\ig7IPup contents: 1-word error code whose interpretation is server-dependentz18697l5408d4833e4j\ig13IIt is the client's responsibility to choose Pup IDs in such a way that it can correctly match responses with requests.z18697e10jk40\gThis protocol is currently implemented by IFS file servers running version 1.36.4 or newer of the IFS software.z18697e10jk40\gThe IFS implementation requires that the LookupFileRequest contain a complete IFS filename in the form <directory>subdirectories>..>name!version'', except that the version may be one of the special version designators (!H'' or !L''), or may be omitted altogether in which case "!H" is assumed.  Patterns containing *'' are not permitted.z18697e10jk40\gThe error codes returned by IFS LookupFile servers are IFS internal error codes, whose interpretation may be found in file <System>IFS.errors on that server.z18697e10jk40\g