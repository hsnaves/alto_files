Heading:qjk40(635)\gAlto DLS Operationy756qk40\gPage Numbers: Yes  X: 527  Y: 10.5"qjk40\gInter-Office Memorandumz18592l4445y762\f5bgTo	DLS administrators	Date	July 16, 1982z18592l4445d2998e21(0,65535)(1,4445)(5,11684)(6,13300)\f1g2f0t2 1t0 18t6 1f1t0 4f0t7 1t0From	Ed Taft	Location	PARC/CSLz18592l4445d2998e25\f1g4f0t2 1t0 7t6 1f1t0 8f0t7 1t0Subject	Alto DLS Operation	File	[Indigo]<DLS>DLSOperation.bravoz21167l4445d2998e25\f1g7f0t2 1t0 18t6 1f1t0 4t7 1t0 31f0XEROX       z18592l508e14(2116)\f2g5f0z18697e10j(1270)\gThese are the instructions for installing and operating an Alto Data Line Scanner (DLS).  For a functional overview, you should first read the DLS user's guide, The Alto DLS'', filed as [Indigo]<DLS>DLS.press.z18697e10jk40\gHardware requirementsz18697e22k80\bg21BA DLS consists of an Alto-I (sorry, not an Alto-II) with some special hardware that enables it to interface to 64 incoming and 64 outgoing EIA levels, such as are used for all control and data signals in RS232 connections.  A direct connection to a terminal requires one DLS line'' (EIA input-output pair); connecting to a modem requires a second line for control signals; and connecting to an auto-dialler (RS366) requires six additional lines.z18697e10jk40\gThe DLS software imposes some configuration limitations.  There is insufficient memory to support more than about 32 data lines (exclusive of modem and dialler control signals).  The software supports data rates up to 2400 baud; however, it cannot run more than a fraction of all the DLS lines at high rates simultaneously.  (For example, simultaneous sustained output on 32 lines at 300 baud is about the best the DLS can do.)z18697e10jk40\gSpecial DLS hardwarez18697e16k80\ig20IThe special hardware consists of a single wire-wrap card holding 60 chips.  The card plugs into one of the three spare Alto memory bus slots.  Wired to the card (via two large connectors) are terminal strips mounted on the Alto's back cover.  These are in turn connected to modems, terminal distribution networks, or whatever.z18697e10jk40\gThe DLS card is not a standard item, but must be specially fabricated on demand.  Hardware documentation presently exists only in hardcopy form that may be obtained from Ed Taft; it includes logic drawings, a parts list, and a wire list suitable for hand wire-wrapping.z18697e10jk40\gModems and diallersz18697e16k80\ig19IFor dial-in use, any RS232-compatible modem will do.  Modems should be connected as described in the next section.z18697e10jk40\gFor automatic dial-out applications, the modems and diallers supported by the existing software are made by Racal-Vadic; other manufacturers' products probably won't work.  The recommended hardware is as follows:z18697e10jk40\gOne or more VA1616AM chassis, which each accept up to 16 300-baud or 8 1200-baud modems.z18697l4269e10jk40\gVA317 (answer-only) or VA355 (originate-answer) 300-baud direct-connect modems.z18697l4269e10jk40\gVA3484 1200-baud direct-connect modems (compatible only with other Vadic 1200-baud modems; Bell 212-compatible modems are also available).z18697l4269e10jk40\gVA811 auto-dialler; only one dialler is required for a system that consists of up to four chassis.  (The VA831 RS232 to RS366 converter is not required.)z18697l4269e10jk40\g139i3ITerminal and modem cablesz18697e16k80\ig25IThis section describes the construction of cables for connecting the DLS to various devices.  In each case, one end of the cable is terminated in lugs that match the terminal strips on the back of the Alto; the other end is terminated in a DB-25 connector (male or female, as specified).z18697e10jk40\gThe following cable is used to connect a terminal directly to the DLS, without using a modem.  The entry in the DLS configuration file (described later) looks something like:z18697e10jk40\gd  Hardwiredz18697l13824d4269e10k40(0,7904)(1,13824)(5,65535)(6,65535)\ig1Iwhere d is the DLS line number.z18697e10jk40(1270)\g6i1IDLS end	Terminal end (female)	Signal namez18697l4269e10k40(0,7904)\ig41Iline d input	pin 2	Transmit Dataz18697l13824d4269e4\g5i1Iline d output	pin 3	Receive Dataz18697l13824d4269e4\g5i1Iline d ground	pin 7	Signal Groundz18697l13824d4269e4\g5i1I	jumper pins 5, 6, 8, 20	Clear to Send, Data Set Ready, Carrier Detect, Data Terminal Readyz18697l13824d4269e4\gA similar cable may also be used to connect the DLS as a terminal'' to a host computer, except that a male connector is used, pins 2 and 3 must be interchanged, and the jumper should be omitted.z18697e10jk40(1270)\gThe following cable is used to connect a modem to the DLS.  One DLS line is used for data and one for control.  The declaration in the DLS configuration file looks like:z18697e10jk40\gd  Dataset  Control cz18697l13824d4269e10k40(0,7904)\ig1I19i1Iwhere d is the number of the DLS data line and c is the corresponding control line.z18697e10jk40(1270)\g6i1I40i1IDLS end	Modem end (male)	Color Code	Signal namez18697l4269e10k40(0,7904)(1,11430)(2,13970)\ig47Iline d input	pin 3	Green	Receive Dataz18697l13824d4269e4(0,8819)(1,11684)\g5i1I13i5Iline d output	pin 2	White	Transmit Dataz18697l13824d4269e4\g5i1I14i5Iline d ground	pin 7	Black	Signal Groundz18697l13824d4269e4\g5i1I14i5Iline c input	pin 5	Red	Clear to Sendz18697l13824d4269e4\g5i1I13i3Iline c output	pin 20	Brown	Data Terminal Readyz18697l13824d4269e4\g5i1I15i5IThe following cable is used to connect a Racal-Vadic dialler to the DLS.  Six DLS lines are used to control the dialler.  The declaration in the DLS configuration file looks like:z18697e10jk40(1270)\ga1  Dialler CRQa2  Dialler DPa3  Dialler NB1a4  Dialler NB2a5  Dialler NB4a6  Dialler NB8z18697l4256d4269e10k40(0,7904)(1,13824)(2,65535)\ig1f1o252I1f0o0 14i1f1o252I1f0o0 13i1f1o252I1f0o0 14i1f1o252I1f0o0 14i1f1o252I1f0o0 14i1f1o252I1f0o0where a1 through a6 are the numbers of the DLS lines devoted to controlling the dialler.z18697e10jk40(1270)\g6i1f1o252I1f0o0 9i1f1o252I1f0o0DLS end	Dialler end (male)	Signal namez18697l4269e10k40(0,7904)\ig38Iline a1 input	pin 5	Present Next Digitz18697l13824d4269e4\g5i1f1o252I1f0o0line a1 ground	pin 7	Signal Groundz18697l13824d4269e4\g5i1f1o252I1f0o0line a1 output	pin 4	Call Requestz18697l13824d4269e4\g5i1f1o252I1f0o0line a2 input	pin 3	Abandon Call and Retryz18697l13824d4269e4\g5i1f1o252I1f0o0line a2 output	pin 2	Digit Presentz18697l13824d4269e4\g5i1f1o252I1f0o0line a3 input	pin 13	Data Set Statusz18697l13824d4269e4\g5i1f1o252I1f0o0line a3 output	pin 14	Number Bit 1z18697l13824d4269e4\g5i1f1o252I1f0o0line a4 output	pin 15	Number Bit 2z18697l13824d4269e4\g5i1f1o252I1f0o0line a5 output	pin 16	Number Bit 4z18697l13824d4269e4\g5i1f1o252I1f0o0line a6 output	pin 17	Number Bit 8z18697l13824d4269e4\g5i1f1o252I1f0o0Configuration filez18697e22k80(1270)\bg18BThe line configuration is specified by a configuration file which is customized for each DLS.  This file describes which DLS lines are used as RS232 data lines, the association between data and control lines, and various other things.  It also specifies a small number of terminal parameters such as default baud rates, screen dimensions, etc., which may be set on a per-line basis.z18697e10jk40\gWhen the DLS software is started, it reads User.cm looking for an entry like this:z18697e10jk40\g[DLS]Indirect: fileNameName: systemNamez18697l4269e10jk40\g16i8I7i10IFileName is the name of the configuration file on the local disk.  (If there is no such entry in User.cm, it expects the configuration file to be called DLS.config.)  SystemName is text included in the herald displayed to users at connection time; for example, PARC DLS''.z18697e10jk40\ig8I159i10IThe contents of the configuration file are not documented here.  You should examine [Indigo]<DLS>ParcDLS.config, which includes syntax equations and other information as comments at the beginning of the file.z18697e10jk40\gTest programz18697e22k80\bg12B[Indigo]<DLS>DLSTest.run is a diagnostic program that may be used for initial checkout and failure diagnosis.  Most of DLSTest's facilities were implemented to assist with development of the DLS driver software and microcode; only those facilities expected to be useful for hardware checkout are described here.z18697e10jk40\gWhen started up, DLSTest reads the configuration file as described above.  The DLS's normal configuration file is acceptable to DLSTest.  However, for initial checkout, a more useful configuration file is [Indigo]<DLS>HardWired64Line.config, which defines all 64 lines to be directly-connected terminals.  This enables you to check out all 64 lines using one terminal which you connect to each line in turn.  (This configuration, by the way, is not acceptable to DLSControl because it defines more data lines than DLSControl has memory to handle.)z18697e10jk40\g445i3IEach test is initiated by a single-character command (type ?'' for a list), and terminates when you strike any character on the Alto keyboard.  Each test operates simultaneously on all data lines declared in the configuration (except for modems that are hung up); control lines and lines not mentioned in the configuration are inactive.z18697e10jk40\gOutput test: endlessly transmits a constant sequence of characters on each data line.z18697l4269d3008e10jk40\gInput test: receives characters from any data line.  Whenever a character arrives, it displays the line number and character code on the Alto display.z18697l4269d3008e10jk40\gEcho test: same as Input test, except that each character received is also transmitted on the same line.z18697l4269d3008e10jk40\gMixed input/output test: starts the same as Output test.  When a character is received on any line, that line switches to Echo test.  When the ESC character is received on that line, the line reverts to Output test.z18697l4269d3008e10jk40\g143f1 3f0Buffered input/echo test: for each line, receives and echos characters until ESC is received, then endlessly transmits the sequence of characters that were received.z18697l4269d3008e10jk40\g77f1 3f0Display on/off: toggles the Alto display on and off.  Turning the display off substantially increases the number of Alto cycles that can be devoted to running the DLS.  This reduces or eliminates pauses in output that occur when running all lines simultaneously in a large configuration.z18697l4269d3008e10jk40\gQuit: exits to the Alto Executive.z18697l4269d3008e10jk40\gControl programz18697e22k80\bg15B[Indigo]<DLS>DLSControl.run (and .syms) is the control program for normal DLS operation.  Assuming User.cm and the configuration file are properly set up, you just run DLSControl (which takes only a few seconds to start up).z18697e10jk40\gStatus displayz18697e16k80\ig14IDLSControl maintains a line status matrix on the Alto display.  The display is turned off two minutes after startup, in order to conserve Alto cycles (and screen phosphor); typing anything on the Alto keyboard turns the display back on for another two minutes.  Thus the normal appearance of the screen is completely black; there is not even a cursor, as the cursor microcode is disabled to save more Alto cycles.z18697e10jk40\gThe state of a line is one of the following:z18697e10jk40\g	Not a data line (it may be a control line or unused).z18697l4256d2999e10jk40(0,4256)(1,65535)\gOff	A DataSet line that is hung up, or a DialOutOnly line that is not in use.z18697l4256d2999e10jk40\gOn	A line that is connected but inactive.  An idle HardWired line is always in this state; for a DataSet line, this means that a phone connection is established (carrier present) but no characters have been received on the line (the line is in speed-determination mode).z18697l4256d2999e10jk40\gAct	A line that is being controlled from a terminal and is at DLS command level (i.e., beyond the initial speed determination sequence).z18697l4256d2999e10jk40\gRem	A line that is being controlled from a terminal and has a remote'' connection in progress (i.e., a Telnet connection to a server such as Maxc, Ernestine, etc.)z18697l4256d2999e10jk40\gOut	A line that is being controlled from a network connection (i.e., dial out'').z18697l4256d2999e10jk40\gOperator commandsz18697e16k80(1270)\ig17IThe following commands may be issued on the DLS Alto's keyboard; they are invoked by a single character (type ?'' for a list).z18697e10jk40\gBroadcast message: accepts a one-line message, which you type on the Alto's keyboard terminated by CR, and immediately transmits that message on every DLS line that is in the On, Act, or Rem state.  Note: due to implementation difficulty, this message is not sent over the controlling network connection of a line in the Out state (if possible, use the Post command instead).z18697l4269d3008e10jk40\g99f1 2f0 154i3IPost signon message: accepts and remembers a one-line message, which you type on the Alto's keyboard terminated by CR.  This message is displayed at connection time to all subsequent new users (whether the connections are controlled from the terminal or the network).z18697l4269d3008e10jk40\g115f1 2f0Quit: broadcasts a shutdown message, breaks all network connections, hangs up all modems, and exits to the Alto executive.z18697l4269d3008e10jk40\gRemove posted notice: removes a message previously established by the Post command.z18697l4269d3008e10jk40\g