-- FILE:  <JPROG>RamDefs.mesa  Last Edited by Mitchell, September 9, 1977  12:23 PMz20320l3316d2998(0,65535)(14,10795)DIRECTORYz20320l3316d2998x0e6PrivateRamDefs: FROM "PrivateRamDefs";z20320l3951d3633x0RamDefs: DEFINITIONS =z20320l3316d2998x0e6BEGIN -- module bodyz20320l3316d2998x0e1Version: CARDINAL = 1;z20320l3316d2998x0e6k80-- T H E   I N T E R F A C Ez20320l3316d2998x0e6k80\3b25BLoadRamAndBoot: PROCEDURE[m: MuImage, boot: BOOLEAN] RETURNS [constDiffs: CARDINAL];-- loads the ram from the MuImage, checks the constants and returns number of constant mismatches.  If boot=TRUE, also does a silent boot: first, a silent boot is done to guarantee that the machine is in ground state (everything running in ROM0 - ok for Mesa?) and then, after loading the ram image, another silent boot is done as specified in the blv field of the MuImage.z20320l3316d2998x0e6jk80NoEtherNetBoard: ERROR;z20320l3316d2998x0e6jk80SilentBoot: PROCEDURE[blv: BootLocusVector];-- check to see that a silent boot is possible (I.e., that Alto has an EtherNet board), sets boot locus vector and does the StartIO to cause a silent boot.z20320l3316d2998x0e6jk80StartIO: PROCEDURE[ac0: UNSPECIFIED] RETURNS[fromAc0: CARDINAL];-- Do an SIO with ac0 passed in the Alto AC0.z20320l3316d2998x0e6jk80MuFileAlreadyOpen: ERROR;z20320l3316d2998x0e6jk80SuspiciousPackedMuFile: ERROR;z20320l3316d2998x0jk80ReadPackedMuFile: PROCEDURE[name: STRING] RETURNS[theImage: MuImage];-- Read and swap in a Packed Mu file and check it to increase our confidence that it is a valid MuImage as prepared by the program PackMu.Run.z20320l3316d2998x0e6jk80ReleaseMuImage: PROCEDURE[theImage: MuImage]; -- Release the FileHandle for the current packed MuImage.  IF muSeg#NIL, then swap it out first and get rid of the segment.  Then release the file.z20320l3316d2998x0e6jk80-- C O M P I L E - T I M E   C O N S T A N T S   A N D   T Y P E Sz20320l3316d2998x0e10k80\3b63BBootLocusVector: TYPE = PrivateRamDefs.BootLocusVector;z20320l3316d2998x0e6k80\24i15IMuImage: TYPE = POINTER TO PrivateRamDefs.PackedMuFile;z20320l3316d2998x0e6k80\27i15IEND.  --RamDefsz20320l3316d2998x0e6k80MODULE HISTORYz20320l3316d2998e36ck80Initial: Mitchell, May 24, 1977  12:54 PMz20320l3316d2998e12reason: Separated from RamLoad after it was initially debugged.  z20320l3951d3633e2Compilation started: May 24, 1977  1:06 PMz20320l3951d3633e2Compiled Correctly: May 24, 1977  1:08 PMz20320l3951d3633e2Changed by: Mitchell,  July 11, 1977  11:23 PMz20320l3316d2998e12reason: Converted to DBOSS interfacing conventions and changed definition of StartIO so that it does not return a value.  z20320l3951d3633e2Compilation started: July 11, 1977  11:24 PMz20320l3951d3633e2Compiled Correctly: July 11, 1977  11:26 PMz20320l3951d3633e2reason: It was a mistake to change StartIO definition and so I have changed it back.  z20320l3951d3633e2Compilation started: July 12, 1977  2:02 PMz20320l3951d3633e2Compiled Correctly: July 12, 1977  2:04 PMz20320l3951d3633e2Changed by: Mitchell,  September 9, 1977  12:24 PMz20320l3316d2998e12reason: Converting from DBOSS to Mesa 3.0  z20320l3951d3633e2Compilation started: September 9, 1977  12:24 PMz20320l3951d3633e2Compiled Correctly: DateTimez20320l3951d3633e2Changed by: Mitchell,  DateTimez20320l3316d2998e12reason: ReasonForChange  z20320l3951d3633e2Compilation started: DateTimez20320l3951d3633e2Compiled Correctly: DateTimez20320l3951d3633e2