Heading:x3qjk40(635)Alto-1822 PC Board Internal Cable - a strange taley756x3qjk40Page Numbers: Yes  X: 527  Y: 10.5"x3qjk40Inter-Office Memorandumz18592l4445y762x3\f5bTo	Hunt,Strollo,Boggs	Date	May 19, 1978z18592l4445d2998x3e21(0,65535)(1,4445)(5,11684)(6,14146)\f1 2f0t2 1t0 18t6 1f1t0 4f0t7 1t0Shoch,Taftz18592l4445x3From	Larry Stewart	Location	Palo Altoz18592l4445d2998y716x3e25\f1 4f0t2 1t0 13t6 1f1t0 8f0t7 1t0Subject	Alto-1822 PC Board	Organization	SSLz18592l4445d2998x3e25\f1 7f0t2 1t0 18t6 1f1t0 12f0t7 1t0Internal Cablez18592l4445x3XEROX       z18592l508y644x3e14(2116)\f2 5f0Filed on: [Ivy]<LStewart>AIPCIntCable.memox3e30x3e10Abstractx3e12jk40\f5bThis memo describes the chain of though leading to a design for a cable connecting the PC board version of the Alto-1822 interface to the Alto back-panal.  The first several sections describe in a rather tutorial way the genesis of the whole matter - an attempt to provide an interface for two types of signalling.  Ensuing sections describe the existing wire-wrap cables, PC cabling options, cable component difficulties, and the (hopefully) final cable design.  This memo is suggested reading for anyone who thinks connecting wires together is easy.x3e12jk40\551bLocal Host vs. Distant Hostx3e18jk40\f5bBBN report 1822 specifies three types of interfaces: Local Host - LH, Distant Host - DH, and Very Distant Host - VDH.  The VDH standard specifies a synchronous serial line protocol and need not concern us further.  LH and DH are variations of the same basic bit-by-bit handshaking, bit-serial, full-duplex interface.  They differ only in the electrical specifications of the signals traveling on an 1822-to-1822 cable.  Both LH and DH define five signals each for inbound and outbound traffic - a total of ten signals.  Two of the signals (four wires) are simple relay contact closures IMP Master Ready, IMP Ready Test, Host Master Ready, Host Ready Test and are the same for LH and DH.  The other eight signals - four in each direction - are potentially high speed data signals: Host Data, There's Your Host Bit, Ready For Next Host Bit, and Last Host Bit (plus of course the corresponding signals for the IMP).  Host Data, There's Your Host Bit, Last Host Bit, and Ready For Next IMP Bit are signals away from the local 1822 interface, the others are to the local interface.x3e12jk40\586i69I125i76I58i75I64i2IThe Local Host interface was designed for no more than a 30 foot cable.  The eight signals employ TTL voltage levels plus a twisted pair ground for each signal.  This type of interface is used for Maxc1 and Maxc2's Arpanet connections.x3e12jk40The Distant Host interface was designed for cable runs of up to 1000 feet.  In order to obtain reliable transmission over this distance, each of the eight signals is on a differential pair.  In this scheme, the state of the signal is represented by the relative voltage across the pair of wires - positive or negative.  Differential signals enjoy greater immunity from common sorts of interference than do TTL signals.  The Packet Radio interface is of the Distant Host variety.x3e12jk40\171i12I70i8IWhy do we care?x3e18jk40\f5bBecause the LH and DH interfaces differ only in this small matter, the Alto-1822 was designed to be compatible with both.  The IC's chosen to interface the circuit board to the 1822 cable (four Line Drivers and four Line Receivers) can act either single ended (for LH) or differential (for DH) by appropriate choice of external wiring.x3e12jk40\116i4I74i12I10i14I17i12I13i12IThe line drivers are fairly simple.  Each of the four consists of a non-inverting and an inverting TTL line driver.  By using only the non-inverting side (against ground) and leaving the inverting output floating free, a single-ended output is obtained.  By using both outputs, a differential output is obtained.x3e12jk40The line receivers are a bit more tricky; at base, they are differential line receivers sensitive enough to detect polarity differences of about a tenth of a volt, but robust enough to withstand about 20 volts (plus or minus).  By using both inputs, a differential line receiver is obrtained with no difficulty.  In order to obtain a TTL receiver, one of the differential inputs is tied to a voltage reference midway between the TTL '0' and '1'.  The chip will sense a differential input voltage appropriate to the state of the TTL line against ground.x3e12jk40The difficulty with the Alto-1822 arises in how to switch between these two cases.  The solution evolved into making all the signals for both LH and DH available at the edge of the board.  By appropriate design of the cable to the remote 1822 device, either LH or DH signalling could be used.x3e12jk40The wire-wrap Alto-1822'sx3e18jk40\f5b25BTwo wire-wrap Alto-1822 interfaces have been constructed on GP wire-wrap boards.  The Internal cable for these consists of a paddle board edge connector wired to a DB-37S connector through a 16 twisted pair cable.x3e12jk40For each input signal, four wires appear at the DB-37: Signal, Signal', Ground, and 2Volts.  For LH, Signal and Ground are used while 2Volts is wired to Signal'.  For DH, Signal and Signal' are used (Ground may be used when a cable with individually shielded pairs is employed).x3e12jk40For each output signal, three wires appear at the DB-37: Signal, Signal', and Ground.  For LH, Signal and Ground are used while Signal is left free.  For DH, Signal and Signal' are used.  As before, ground may be used for the twisted pair shield.x3e12jk40For each ready line, three wires appear:  Master Ready, Ready Test, and Ground.x3e12jk40Packet Radio Cablesx3e18jk40\i19IThe Packet Radio Unit 1822 interface terminates in a very expensive, hard to wire connector.  For this reason, a short (15 foot) cable from the PRU terminates in a DB-37P and all other PRU interface cables have DB-37 connectors.  Either the short PRU cable or an extension will plug directly into the Alto mounted DB-37S. (Again, this is DH signalling).  The cable employed has individually shielded pairs.x3e12jk40IMP Cablesx3e18jk40\i10IThe IMP 1822 interfaces in the Maxc room terminate in cables ending in DB-25S connectors.  The 25 pins are enough for the 8 TTL signals plus their grounds and the 4 Ready-related wires plus their (individual) twisted pair grounds.  This wiring retains compatibility with the Nova IMP interface.  In order to connect an Alto-1822 to an IMP port, a two foot adaptor cable is used.  It has a DB-25P on one end and a DB-37P on the other.  Inside the shell of the DB-37 are the secret wires which connect the input lines to the terminating voltage.x3e12jk40The PC Board Versionx3e18jk40\f5b20BFor reliability reasons, it was decided to make a printed circuit board Alto-1822.  Electrically, the PC version is identical to the wire-wrap, but the use of a paddle-board internal cable was rejected in favor of a smaller, easier to construct cable.  Several problems arose, perhaps best posed as questions:x3e12jk40To what extent should compatability be maintained with existing cables?l4269x3e18jk40\iCan the internal cable be constructed entirely of ribbon-cable crimp-on components for easy manufacture?l4269x3e12jk40\iHow should the switching between LH and DH signalling be done?l4269x3e12jk40\iTwo schools of thought have sprung up:x3e12jk40Use 25-pin ribbon-cable componentsx3e12jk40\i34IThe Alto internal cable would consist of 26 conductor ribbon cable with a 26 conductor crimp-on edge connector at the board end and a DB-25 at the back-panal end.  The board would have two edge connectors and LH-DH switching would be accomplished by moving the internal cable from one board connector to the other.  In order to provide the reference voltages in th LH case, a dummy edge connector would be plugged onto the DH board connector while the internal cable was on the LH board connector.  The dummy plug would have a few jumpers in it.  Since the LH-DH decision is made at installation time, it seems reasonable that the switching be inside the Alto.x3e12jk40Presumably the DB-25 would be a plug type, wiring compatible with the present IMP cables (LH case).  New PRU cable connectors would be installed.  The major advantage of this scheme is that the internal cable would be identical in spirit with the Ethernet and Display internal cables and it would use known-to-be-available parts.x3e12jk40I have thought of or discovered several potential disadvantages with the method.  The internal cable could not be identical to the Ethernet and Display cables and still retain IMP cable compatability: the Ethernet has a DB-25S on the Alto, while the IMP cables demand a DB-25P.  Aside from that, it is my opinion that a 25 pin connector puts an excessive burden on those who construct the site-specific external cables for DH use.  After the differential signals, the ready lines, and the reference voltage pin are added up, there would be only a few pins left for grounds.  If individually shielded pair cable is used, it is quite difficult to wire 10 ground leads into one or two pins.  A one wire - one pin principle makes life easier.x3e12jk40\114i9IUse a 37-pin connector - somehow.x3e18jk40\i33IAt the Alto back panal would be a DB-37S identical or nearly identical to the wire-wrap version connector.  Some collection of crimp-on ribbon cable components would connect to a 34 or above contact board edge connector.  As in the wire-wrap version, the LH-DH choice would be made by the external cable wiring.x3e12jk40This scheme has some nice advantages and some big disadvantages.x3e18jk40On the plus side, the existing PRU cables would not need rewiring or at worst, some relatively easy pin swaps.  There are enough grounds in the 37 pin connector to allow one wire - one pin.  An Alto could be connected to a LH or DH system without poking inside.  There would be no jumper plugs to lose.x3e12jk40On the other hand, use with the LH IMP cables in the Maxc room would require custom made adapter cables.  (One might argue that it would be an equivilent amount of work to change the IMP cables and the Maxc1 Nova to 37 pin connectors).  Worse, I am not 100% certain that such a wide internal cable can be easily made with available crimp-on components.x3e12jk40After considerable thought, I have decided to go ahead with the 37 pin scheme - subject to the uncertainties described in the next section.x3e12jk40DB style ribbon-cable connectorsx3e18jk40\f5bAre they really ribbon-cable compatible?x3e18jk40\iAccording to a rather old 3M (Scotch) catalog, when the two rows of pins in a DB series connector are collapsed into one row, they are spaced at .054" intervals.  Standard ribbon cable has wires at .050" intervals.  To get around this difficulty, Scotch actually manufactures special purpose ribbon cable whose wire spacing alternates between .050" and .054".  The available catalog lists the DB products as available only in a 25 pin version, but a telephone check revealed that 37-pin crimp-on DB connectors exist.  I do not know whether the funny cable is available in other than 25 conductor.x3e12jk40To investigate this rather unusual matter further, I looked into the construction of the Alto-II ethernet and display internal cables; both of which have a 26 conductor cable with a 26 pin edge connector and a DB-25S.  These cables are constructed in the following rather apalling manner:  Two pins in the middle of the card connector are discarded to make a keyway.  At the DB end, the cable is split into two parts and one wire in the middle folded back (leaving 25).  Since standard .050" cable is used, the two (12 and 13 wire) pieces are stretched or split up (I'm not quite sure) to fit into the .054" connector.  El Segundo farms out the construction of these cables.x3e12jk40The 37 pin connectionx3e18jk40\i21IAs an initial comment, I should remark that four input signals at four wires each, plus four output signals at three wires each, plus two ready signals at three wires each adds up to 34 pins (see section on the wire-wrap version).  If a LH cable with individual twisted pair grounds for each side of each ready line is used, two additional grounds (bringing the total to 36 pins), avoid the need to bring two grounds into one pin in the LH adapter cable.x3e12jk40DB-37 crimp-on connectors are available.  Whether they have .054" spacing or .050" is presently unknown.  If the former, presumably splitting the cable into groups of 10 or so plus further stretching or splitting would work.  It seems possible that the 37 pin DB's have some internal fanning to present a .050" spacing to the ribbon cable, but this is not known.  Crimp-on PC edge connectors are available in standard widths of 34, 40, and 50 conductors. (Two rows of 17, 20, or 25).  The 40 and 50 pin versions are already used in the Alto II.  The same 34, 40 and 50 widths seem to be standard for ribbon cable.x3e12jk40Every known edge connector in the Alto II has a keyway, never less than .35" from the end of the connector (the fourth pins).  It is not known what El Segundo standards position is on keyways.  M&M (the PC layout people) feel that use of the second pins for a key does not present undue cause for alarm.  The design of the cable part of the edge connector is such that a key slot can be placed between two pins without usurping either.x3e12jk40\394i7IThe first option is to use a 40-pin edge connector with the keyway occupying the second pins from the end.  At the DB end, 4 wires would be folded or cut back and the remaining 36 crimped into the connector (possibly by splitting them up).  If such a precarious key location is unacceptable, the key could be moved farther in at the expense of some pin swaps in the existing external cables.  If a between-pins key can be used, so much the better, but there is no example in the Alto II.x3e12jk40The second option is to use a 50-pin edge connector with 14 wires cut back.  Even an internal key location would not disturb the DB connector layout.x3e12jk40A sub-option is to use 40 conductor ribbon cable in a 50 conductor edge connector.  It is not known whether this would adversely affect the crimping.x3e12jk40Decisionx3e18jk40\f5b8BSince I have not been able to contact anyone in El Segundo who knows about keys and standards.  I have decided on a conservative approach - the 40 pin edge connector with the 4th from the end key.  I feel the uncertainties about the crimp-on DB-37 connectors do not present substantial difficulties.  Ignoring the odd pin in the DB connector, 34 wires make it from the board to the DB-37.x3e12jk40Changes to existing cablesx3e18jk40\i26IPin swaps in the PRU cables will make them compatible.  Two pins in each LH cable would have to accomodate two grounds each.x3e12jk40