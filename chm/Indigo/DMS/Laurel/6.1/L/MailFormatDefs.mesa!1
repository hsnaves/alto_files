-- file MailFormatDefs.mesa-- edited by Levin, February 24, 1981  4:51 PM-- edited by Schroeder, February 24, 1981  11:32 AM-- edited by Brotz, March 4, 1983  9:44 AMDIRECTORY  vmD: FROM "VirtualMgrDefs" USING [TOCFixedPartPtr];mfD: DEFINITIONS =BEGINCreateStamp: PROCEDURE [tp: vmD.TOCFixedPartPtr, PutChar: PROC [CHARACTER]];-- Creates a complete message stamp with textLength, deleted, seen, and mark from the--   TOCFixedPart, and stores it with PutChar.  Sets tp.offsetToHeader, the number of--   characters from the beginning of the stamp to the beginning of the header that will--   follow it provided that the initial value is zero. If it is nonzero it is left undisturbed, as--   we are presumably updating an existing stamp.ParseStamp: PROCEDURE    [NextChar: PROC RETURNS [CHARACTER], tp: vmD.TOCFixedPartPtr]  RETURNS [stampOk: BOOLEAN];-- Reads the stamp with NextChar and fills into the TOCFixedPart located by tp the deleted,--   seen, mark, offsetToHeader, and textLength fields.  Leaves NextChar ready to read the--   first character following the fixed part of the stamp.  Expects NextChar to return a null--   character if no more characters remain to be gotten.  Returns FALSE if could not parse--   a complete stamp.ParseHeaderForTOC: PROCEDURE [s: STRING, next: PROCEDURE RETURNS [CHARACTER]];-- Produces in 's' the TOC string that goes with the message whose characters are--   available through the initialized Handle.END.  -- of MailFormatDefs --z20461(529)\f1